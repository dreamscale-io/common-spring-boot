allprojects {
    apply plugin: "org.dreamscale.core"

    version = "${springBootVersion}-${version}"

    ext {
        groovyVersion = "2.4.13"
        spockVersion = "1.1-groovy-2.4"
        lombokVersion = "1.16.20"
    }

    dependencies {
        compile "com.google.guava:guava:23.6-jre"
        compile "com.fasterxml.jackson.core:jackson-databind:2.9.4"
        compile "org.springframework.boot:spring-boot-starter-actuator:${springBootVersion}"
        compileOnly "org.projectlombok:lombok:${lombokVersion}"

        mainTestCompile "org.dreamscale:common-test:1.+"
        mainTestCompileOnly "org.codehaus.groovy:groovy-all:${groovyVersion}"

        sharedTestCompile 'cglib:cglib-nodep:2.2.2'
        sharedTestCompile 'org.objenesis:objenesis:1.3'
        sharedTestCompile "org.codehaus.groovy:groovy-all:${groovyVersion}"
        sharedTestCompile ("org.spockframework:spock-core:${spockVersion}") {
            exclude group: "org.codehaus.groovy"
        }
        sharedTestCompile ("org.spockframework:spock-spring:${spockVersion}") {
            exclude group: "org.codehaus.groovy"
        }
    }
}

publishing_ext {
    publishJavadoc true
}

bintray {
    publications = ['commonSpringBoot']
    pkg {
        licenses = ['Apache-2.0']
    }
}
